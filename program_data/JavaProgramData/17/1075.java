package <missing>;

public class GlobalMembers
{
	public static String a = new String(new char[200]);
	public static int findpair(int i,int j) //i?????????j??????????????
	{
		int temp; //?????????
		if (a.charAt(i) == '\0') //????????
		{
			return -1; //?-1?????????
		}
		else if (a.charAt(i) == '(') //???????
		{
			temp = findpair(i + 1, j + 1); //??????
			if (temp == -1) //??????
			{
				a = tangible.StringFunctions.changeCharacter(a, i, '$'); //?????$
				return -1;
			}
			else //?????
			{
				a = tangible.StringFunctions.changeCharacter(a, i, ' '); //???????
				return findpair(temp + 1, j);
				//?temp????????i?temp????????????????????????temp????????
			}
		}
		else if (a.charAt(i) == ')') //???????
		{
			if (j == 0) //?????????
			{
				a = tangible.StringFunctions.changeCharacter(a, i, '?'); //??????
				return findpair(i + 1, j); //????????
			}
			else //????????
			{
				a = tangible.StringFunctions.changeCharacter(a, i, ' '); //???????
				return i; //???????
			}
		}
		else if (a.charAt(i) == ' ') //??a[i]???
		{
			return (findpair(i + 1, j)); //??????????
		}
	}
	public static int Main()
	{
		while ((a = ConsoleInput.readToWhiteSpace(true).charAt(0)).length() > 0)
		{
			System.out.print(a);
			System.out.print("\n");
			for (int i = 0;i <= (int)a.length() - 1;++i) //??????????????
			{
				if (a.charAt(i) != ')' && a.charAt(i) != '(' && a.charAt(i) != '\0')
				{
					a = tangible.StringFunctions.changeCharacter(a, i, ' ');
				}
			}
			findpair(0, 0); //?????????????????????????0
			System.out.print(a);
			System.out.print("\n");
		}
		return 0;
	}
}

