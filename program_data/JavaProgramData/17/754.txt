package <missing>;

public class GlobalMembers
{
	public static void Main()
	{
		int i;
		int j;
		int k;
		int u;
		int p;
		char c;
		for (;;)
		{
			p = 1;
			char[] ch = {'0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0'};
			i = 2;
			c = System.in.read();
			if (c == -1)
			{
				break;
			}
			else
			{
				ch[1] = c;
			}
			while ((c = System.in.read()) != '\n')
			{
				ch[i] = c;
				i++;
			}
			i--;
			for (j = 1;j <= i;j++)
			{
				System.out.printf("%c",ch[j]);
			}
			System.out.print("\n");
			while (p == 1)
			{
				p = 0;
				for (j = 1;j <= i - 1;j++)
				{
					if (ch[j] == '(')
					{
						for (k = j + 1;k <= i;k++)
						{
							u = 1;
							if (ch[k] == '(')
							{
								break;
							}
							else
							{
								if (ch[k] == ')')
								{
									u = 0;
									break;
								}
							}
						}
						if (u == 0)
						{
							ch[j] = 0;
							ch[k] = 0;
							p = 1;
						}
					}
				}
			}
			for (j = 1;j <= i;j++)
			{
				if (ch[j] == '(')
				{
					ch[j] = '$';
				}
				else
				{
					if (ch[j] == ')')
					{
						ch[j] = '?';
					}
					else
					{
						ch[j] = ' ';
					}
				}

			}
			for (j = 1;j <= i;j++)
			{
				System.out.printf("%c",ch[j]);
			}
			System.out.print("\n");
		}
	}
}
