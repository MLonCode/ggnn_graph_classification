package <missing>;

public class GlobalMembers
{
	public static int Main()
	{
		String string = new String(new char[1000]);
		int i = 0;
		int j = 0;
		int length = 0;
		int t1 = 0;
		int t2 = 0;
		int flag = 0;
		int left = 0;
		int right = 0;
		while (gets(String))
		{
			System.out.print(String);
			System.out.print("\n");
			length = String.length();
			flag = 1,left = 0,right = 0; //???
			t1 = 0,t2 = 0; //???
			while (flag == 1)
			{
				for (i = 0;i < length;i++)
				{
					if (String[i] == '(')
					{
						left = i;
						t1 = 1;
					}
					//????????,?????????,???????????
					else if (t1 == 1 && string.charAt(i) == ')')
					{
						right = i;
						t2 = 1;
						break;
					}
					//??,?????????????????,??????break????????
					else
					{
						continue;
					}
				}

				if (t1 == 1 && t2 == 1)
				{
					//??????????????????????????????'0'
					String[left] = '0';
					String[right] = '0';
					t1 = 0;
					t2 = 0;
					flag = 1;
				}
				else //?????????????????????????????????????????
				{
					flag = 0;
				}
				//cout<<string<<endl;
			}

			for (i = 0;i < length;i++) //??????????????
			{
				if (String[i] == '(')
				{
					String[i] = '$';
				}
				else if (String[i] == ')')
				{
					String[i] = '?';
				}
				else
				{
					String[i] = ' ';
				}
			}

			for (i = 0;i < length;i++)
			{
				System.out.print(String[i]);
			}
			System.out.print("\n");
		}
		return 0;
	}
}
