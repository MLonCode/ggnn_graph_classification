int work = int;
char l = '(';
char r = ')';
char[][] sen =
{
	{0, '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0'}
};
char[][] rem =
{
	{0, '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0'}
};
int i;
int j;
int k;
int t = 1;
int[] nsen = new int[110];
int main()
{
	for (i = 0;;i++)
	{
		//cin.getline(sen[i],110);
		j = 0;
		char c;
		while ((c = System.in.read()) != '\n')
		{
			sen[i][j++] = c;
		}
		for (j = 0;sen[i][j] != 0;j++)
		{
			nsen[i]++;
		}
		for (t = 0;t < nsen[i];t++)
		{
			rem[i][t] = sen[i][t];
		}
		work(i);
		System.out.print(rem[i]);
		System.out.print("\n");
		System.out.print(sen[i]);
		System.out.print("\n");
	}



	return 0;
}

int work(int i)
{
	for (j = 1;j <= nsen[i] - 1;j++) //??????
	{
		for (k = 0;k < nsen[i] - 1;k++)
		{
			if (sen[i][k] == l && sen[i][k + j] == r)
			{
				sen[i][k] = ' ';
				sen[i][k + j] = ' ';
			} //?????????????
		}
	}

			for (k = 0;k <= nsen[i] - 1;k++)
			{
				if (sen[i][k] == l)
				{
					sen[i][k] = '$';
				}
				else if (sen[i][k] == r)
				{
					sen[i][k] = '?'; //?????????
				}
				else
				{
					sen[i][k] = ' '; //?????????
				}
			}

				k = 0;
				j = 1;
				return 0;

}
