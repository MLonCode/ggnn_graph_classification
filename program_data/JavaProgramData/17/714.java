package <missing>;

public class GlobalMembers
{
	public static void match(String a)
	{
		char[] b = {0, '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0'};
		int l = a.length();
		int i;
		int[] left = new int[102];
		int cnt_left = 0;
		for (i = 0;i < l;i++)
		{
			if (a[i].equals('('))
			{
				cnt_left++;
				left[cnt_left] = i;
				b[i] = '$';
			}
			else
			{
				if (a[i].equals(')'))
				{
					if (cnt_left == 0)
					{
						b[i] = '?';
					}
					else
					{
						b[i] = ' ';
						b[left[cnt_left]] = ' ';
						cnt_left--;
					}
				}
				else
				{
					b[i] = ' ';
				}
			}
		}
		b[l] = '\0';
		System.out.println(a);
		System.out.println(b);
	}

	public static int Main()
	{
		char[] a = {0, '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0'};
		char c;
		int i = -1;
		while ((c = System.in.read()) != EOF)
		{
			if (c != '\n')
			{
				i++;
				a[i] = c;
			}
			else
			{
				i++;
				a[i] = '\0';
				match(a);
				i = -1;
			}
		}
		return 0;
	}
}
