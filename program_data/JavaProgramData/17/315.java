package <missing>;

public class GlobalMembers
{
	public static int Main()
	{
		char[] str = {0, '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0'};

		while ((str = ConsoleInput.readToWhiteSpace(true).charAt(0)).length() > 0)
		{
			int[] change = new int[110];
			char[] ans = {0, '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0'};
			int len = str.length();
			for (int i = 0; i < len; i++)
			{
				if (str[i] == '(')
				{
					change[i] = 1;
				}
				else if (str[i] == ')')
				{
					change[i] = -1;
				}
				else
				{
					change[i] = 0;
				}
			}
			int sum = 0;
			for (int i = 0; i < len; i++)
			{
				  sum += change[i];
				  if (sum < 0)
				  {
					  ans[i] = '?';
					  sum = 0;
				  }

			}
			sum = 0;
			for (int i = len - 1; i >= 0; i--)
			{
				  sum += change[i];
				  if (sum > 0)
				  {
					  ans[i] = '$';
					  sum = 0;
				  }

			}
			for (int i = 0; i < len; i++)
			{
				if (ans[i] != '?' && ans[i] != '$')
				{
					ans[i] = ' ';
				}
			}
			System.out.print(str);
			System.out.print("\n");
			System.out.print(ans);
			System.out.print("\n");
		}

		return 0;
	}
}

