package <missing>;

public class GlobalMembers
{
	public static int Main()
	{
		char[] s = {0, '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0'};
		while ((scanf("%s", s) != EOF))
		{
		  int i;
		  int j;
		  int you = 0;
		  int l1 = s.length();
		  String a = new String(new char[101]);
		  a = s;
		  for (i = l1 - 1;i >= 0;i--)
		  {
			if (s[i] == '(')
			{

				you = 0;
			for (j = i + 1;j < l1;j++)
			{

			  if (s[j] == ')')
			  {
				s[i] = ' ';
				s[j] = ' ';
				you = you + 1;
				break;
			  }
			}
			if (you == 0)
			{
				s[i] = '$';
			}
			}
		  }
		  System.out.println(a);

		 for (i = 0;i < l1;i++)
		 {
		   if (s[i] == '?' || s[i] == '$')
		   {
			   System.out.printf("%c",s[i]);
		   }
		   else if (s[i] == ')')
		   {
			   System.out.print("?");
		   }
		   else
		   {
			   System.out.print(" ");
		   }
		 }
		 System.out.print("\n");
		}
		return 0;
	}

}
